<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<link rel="stylesheet" href="css/header_footer.css">
		    	<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css"> 
			<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css"> 
		<link rel="stylesheet" href="css/body.css">
			<link rel="stylesheet" href="layui/css/layui.css">
		<script src="bootstrap/js/jquery-3.3.1.min.js"></script>
		
	</head>
	<body>
	<div class="toolbar">
		<div id="harry">
			
			<img src="image/o-cal.png" alt="" style="width:40%; margin: 10px;">
		</div>
		<div class="toolbar-left">
			<ul calss="toolbar-menus">
	
				<li calss="home-page" title="排行"><a style="font-size: 15px;" href="rank.html">首页</a></li>
				<li calss="private-page" title="加油！"><a style="font-size: 15px;" href="question.html">练习</a></li>
				<li calss="release-page" title="错题"><a style="font-size: 15px;" href="index.html">我的</a></li>
			</ul>
		</div>
	</div>
		
		<div class="contian_box" style="display:flex; width:1450px; height:700px; background-color: white; margin: auto;flex-direction: row;">
			<div class="left-box" style="flex: 1; margin:10px 15px; background-color: aliceblue; display:flex; flex-direction: column;">
			<div class="left_top" style="flex: 1; margin:5px 5px ;" >
				<div style="margin: 5px 4px ; font-size: 17px; font-weight: 1000; height: 30px; width: 100px;">新建习题</div>
				<div style="margin: 5px 4px ; font-size: 14px; font-weight: 800; height: 30px; width: 100px;">题目难度</div>
				<div style="margin: 5px auto ; font-size: 14px; font-weight: 800; height: 30px; width: 90%; background-color: azure;">
					<select id="select" style="width: 100%; height: 100%; ">
					  <option value ="1">一年级</option>
					  <option value ="2">二年级</option>
					  <option value="3">三年级</option>
					  <option value="4">四年级</option>
					  <option value="5">五年级</option>
					  <option value="6">六年级</option>
					</select>
				</div>
				<div style="margin: 10px 4px ; font-size: 14px; font-weight: 800; height: 30px; width: 100px;">数量</div>
				<div style="margin: 5px auto ; font-size: 14px; font-weight: 800; height: 50px; width: 80%; ">
					<div style="margin: 0 auto;height: 15px; width: 80%; text-align: center; ">
					<span id="value">5</span>	
					</div>
				<input style="width: 100%;" id="range" type="range" min="5" max="50" value="5" onchange="change()">
			<!-- 	<div style="display: flex;">
				<div style="flex: 1;" id="">5</div>	
				<div style="flex: 1;" id="">25</div>	
				<div style="flex: 1;" id="">45</div>
				</div> -->
	
				</div>
				<div style="margin: 5px auto ; font-size: 14px; font-weight: 800; height: 50px; width: 80%; ">
					
				 <button   class="bt1" id="bt1"style=" width: 100%; height: 100%; color: white; font-weight: 1000; font-size: 17px;" type="submit" id="btn_submit" onclick="creatQuestion()"> 创建练习题 </button>	
				 
				</div>
              
				
			</div>
			<div class="left_bottom"style="flex: 1; margin:5px 5px ;">
				<!-- <div style="height: 60%; width: 60%; margin: auto;">
					<img  src="image/o-cal.png" alt="">
				</div> -->
				<div class="layui-form-item" style="width: 300px;">
					<label class="layui-form-label">文件名:</label>
					<div class="layui-input-block">
						<input type="text" name="title" placeholder="请选择文件" id="fileNameInput" autocomplete="off"
							class="layui-input" disabled="disabled" title="不可编辑">
					</div>
				</div>
				<div class="layui-upload" style="margin: auto; width: 70%;">
					<button type="button" class="layui-btn layui-btn-normal" id="chooseFile">选择文件</button>
					<button type="button" class="layui-btn" id="fileImport" onclick="creatQuestion()"><span
							class="glyphicon glyphicon-cloud-upload"></span>文件导入</button>
				</div>
				
				
			</div>
			</div>
			
			<div class="right-box" style="flex:3; margin:10px 15px; background-color: aliceblue; display: flex; flex-direction: column;">
				
				<div style="display: flex; flex: 1;  margin: 20px;">
					<div style=" opacity: 0; box-shadow: 0px 0px 5px #80a4ca;  flex: 1; background-color:aliceblue; margin:0 10px; border-radius: 10px;" id="t1">
					   
					   
					    <div style="height: 15%; width: 80%; margin: 20px auto 5px; color: #c4ca49;" class="ID_num">
					    	 试题编号:
					    	<span>15215</span>
					    </div >
					    <div style="height: 15%; width: 80%; margin: 5px auto;" class="num">
					    	习题数量:
					    	<span>15215</span>
					    </div>
					    <div style="height: 15%; width: 80%; margin: 5px auto;" class="createTime">
					    	创建时间:
					    	<span>2021.5.5 15:30:20</span>
					    </div>
					    <div style="height: 15%; width: 80%; margin: 5px auto;" class="completeTime">
					    	完成时间:
					    	<span>15215</span>
					    </div>
					    <div style="height: 15%; width: 80%; margin: 5px auto;">
					 	  	<button id="btstart" class="btstart" onclick="startQuestion(this)">开始练习</button>
					 	  	<button id="btdelete" class="btdelete" onclick="deleteQuestion(this)" >删除练习</button>
					     </div>
						
					 
					</div>
					
					<div style="opacity: 0;  box-shadow: 0px 0px 5px #80a4ca;  flex: 1; background-color: aliceblue; margin:0  10px; border-radius: 10px;" id="t2">
						  <div style="height: 15%; width: 80%; margin: 20px auto 5px; color: #c4ca49;" class="ID_num">
						  	 试题编号:
						  	<span>15215</span>
						  </div >
						  <div style="height: 15%; width: 80%; margin: 5px auto;" class="num">
						  	习题数量:
						  	<span>15215</span>
						  </div>
						  <div style="height: 15%; width: 80%; margin: 5px auto;" class="createTime">
						  	创建时间:
						  	<span>2021.5.5 15:30:20</span>
						  </div>
						  <div style="height: 15%; width: 80%; margin: 5px auto;" class="completeTime">
						  	完成时间:
						  	<span>15215</span>
						  </div>
						  <div style="height: 15%; width: 80%; margin: 5px auto;">
					 	  	<button id="btstart" class="btstart" onclick="startQuestion(this)">开始练习</button>
					 	  	<button id="btdelete" class="btdelete" onclick="deleteQuestion(this)" >删除练习</button>
						   </div>
					</div>
					  
					<div style="opacity: 0;  box-shadow: 0px 0px 5px  #80a4ca;  flex: 1; background-color: aliceblue; margin:0  10px; border-radius: 10px;" id="t3">
						  <div style="height: 15%; width: 80%; margin: 20px auto 5px; color: #c4ca49;" class="ID_num">
						  	 试题编号:
						  	<span>15215</span>
						  </div >
						  <div style="height: 15%; width: 80%; margin: 5px auto;" class="num">
						  	习题数量:
						  	<span>15215</span>
						  </div>
						  <div style="height: 15%; width: 80%; margin: 5px auto;" class="createTime">
						  	创建时间:
						  	<span>2021.5.5 15:30:20</span>
						  </div>
						  <div style="height: 15%; width: 80%; margin: 5px auto;" class="completeTime">
						  	完成时间:
						  	<span>15215</span>
						  </div>
						  <div style="height: 15%; width: 80%; margin: 5px auto;">
					 	  	<button id="btstart" class="btstart" onclick="startQuestion(this)">开始练习</button>
					 	  	<button id="btdelete" class="btdelete" onclick="deleteQuestion(this)" >删除练习</button>
						   </div>
					</div>
				
				</div>
				<div style="display: flex; flex: 1;  margin: 20px;">
					 <div style="opacity: 0;  box-shadow: 0px 0px 5px #80a4ca;  flex: 1; background-color:aliceblue; margin:0 10px; border-radius: 10px;" id="t4">
					 	   <div style="height: 15%; width: 80%; margin: 20px auto 5px; color: #c4ca49;" class="ID_num">
					 	   	 试题编号:
					 	   	<span>15215</span>
					 	   </div >
					 	   <div style="height: 15%; width: 80%; margin: 5px auto;" class="num">
					 	   	习题数量:
					 	   	<span>15215</span>
					 	   </div>
					 	   <div style="height: 15%; width: 80%; margin: 5px auto;" class="createTime">
					 	   	创建时间:
					 	   	<span>2021.5.5 15:30:20</span>
					 	   </div>
					 	   <div style="height: 15%; width: 80%; margin: 5px auto;" class="completeTime">
					 	   	完成时间:
					 	   	<span>15215</span>
					 	   </div>
					 	   <div style="height: 15%; width: 80%; margin: 5px auto;">
					 	  	<button id="btstart" class="btstart" onclick="startQuestion(this)">开始练习</button>
					 	  	<button id="btdelete" class="btdelete" onclick="deleteQuestion(this)" >删除练习</button>
					 	    </div>
					 </div>
					 <div style="opacity: 0;  box-shadow: 0px 0px 5px #80a4ca;  flex: 1; background-color: aliceblue; margin:0  10px; border-radius: 10px;" id="t5">
					 	   <div style="height: 15%; width: 80%; margin: 20px auto 5px; color: #c4ca49;" class="ID_num">
					 	   	 试题编号:
					 	   	<span>15215</span>
					 	   </div >
					 	   <div style="height: 15%; width: 80%; margin: 5px auto;" class="num">
					 	   	习题数量:
					 	   	<span>15215</span>
					 	   </div>
					 	   <div style="height: 15%; width: 80%; margin: 5px auto;" class="createTime">
					 	   	创建时间:
					 	   	<span>2021.5.5 15:30:20</span>
					 	   </div>
					 	   <div style="height: 15%; width: 80%; margin: 5px auto;" class="completeTime">
					 	   	完成时间:
					 	   	<span>15215</span>
					 	   </div>
					 	   <div style="height: 15%; width: 80%; margin: 5px auto;">
					 	  	<button id="btstart" class="btstart" onclick="startQuestion(this)">开始练习</button>
					 	  	<button id="btdelete" class="btdelete" onclick="deleteQuestion(this)" >删除练习</button>
					 	    </div>
					 </div>
					 <div style="opacity: 0;  box-shadow: 0px 0px 5px  #80a4ca;   flex: 1; background-color: aliceblue; margin:0  10px; border-radius: 10px;" id="t6">
					 	  <div style="height: 15%; width: 80%; margin: 20px auto 5px; color: #c4ca49;" class="ID_num">
					 	  	 试题编号:
					 	  	<span>15215</span>
					 	  </div >
					 	  <div style="height: 15%; width: 80%; margin: 5px auto;" class="num">
					 	  	习题数量:
					 	  	<span>15215</span>
					 	  </div>
					 	  <div style="height: 15%; width: 80%; margin: 5px auto;" class="createTime">
					 	  	创建时间:
					 	  	<span>2021.5.5 15:30:20</span>
					 	  </div>
					 	  <div style="height: 15%; width: 80%; margin: 5px auto;" class="completeTime">
					 	  	完成时间:
					 	  	<span>15215</span>
					 	  </div>
					 	  <div style="height: 15%; width: 80%; margin: 5px auto;">
					 	  	<button id="btstart" class="btstart" onclick="startQuestion(this)">开始练习</button>
					 	  	<button id="btdelete" class="btdelete" onclick="deleteQuestion(this)" >删除练习</button>
					 	   </div>
					 </div>
				</div>
				<div style="display: flex; flex: 1;  margin: 20px;">
					<div style="opacity: 0;  box-shadow: 0px 0px 5px #80a4ca;  flex: 1; background-color:aliceblue; margin:0 10px; border-radius: 10px;" id="t7">
						  <div style="height: 15%; width: 80%; margin: 20px auto 5px; color: #c4ca49;" class="ID_num">
						  	 试题编号:
						  	<span>15215</span>
						  </div >
						  <div style="height: 15%; width: 80%; margin: 5px auto;" class="num">
						  	习题数量:
						  	<span>15215</span>
						  </div>
						  <div style="height: 15%; width: 80%; margin: 5px auto;" class="createTime">
						  	创建时间:
						  	<span>2021.5.5 15:30:20</span>
						  </div>
						  <div style="height: 15%; width: 80%; margin: 5px auto;" class="completeTime">
						  	完成时间:
						  	<span>15215</span>
						  </div>
						  <div style="height: 15%; width: 80%; margin: 5px auto;">
						  	<button id="btstart" class="btstart">开始练习</button>
						  	<button id="btdelete" class="btdelete">删除练习</button>
						   </div>
					</div>
					<div style="opacity: 0;  box-shadow: 0px 0px 5px #80a4ca; flex: 1; background-color: aliceblue; margin:0  10px; border-radius: 10px;" id="t8">
						   <div style="height: 15%; width: 80%; margin: 20px auto 5px; color: #c4ca49;" class="ID_num">
						   	 试题编号:
						   	<span>15215</span>
						   </div >
						   <div style="height: 15%; width: 80%; margin: 5px auto;" class="num">
						   	习题数量:
						   	<span>15215</span>
						   </div>
						   <div style="height: 15%; width: 80%; margin: 5px auto;" class="createTime">
						   	创建时间:
						   	<span>2021.5.5 15:30:20</span>
						   </div>
						   <div style="height: 15%; width: 80%; margin: 5px auto;" class="completeTime">
						   	完成时间:
						   	<span>15215</span>
						   </div>
						   <div style="height: 15%; width: 80%; margin: 5px auto;">
						   	<button id="btstart" class="btstart">开始练习</button>
						   	<button id="btdelete" class="btdelete">删除练习</button>
						    </div>
					</div>
					<div style="opacity: 0;  box-shadow: 0px 0px 5px  #80a4ca;  flex: 1; background-color: aliceblue; margin:0  10px; border-radius: 10px;" id="t9">
						  <div style="height: 15%; width: 80%; margin: 20px auto 5px; color: #c4ca49;" class="ID_num">
						  	 试题编号:
						  	<span>15215</span>
						  </div >
						  <div style="height: 15%; width: 80%; margin: 5px auto;" class="num">
						  	习题数量:
						  	<span>15215</span>
						  </div>
						  <div style="height: 15%; width: 80%; margin: 5px auto;" class="createTime">
						  	创建时间:
						  	<span>2021.5.5 15:30:20</span>
						  </div>
						  <div style="height: 15%; width: 80%; margin: 5px auto;" class="completeTime">
						  	完成时间:
						  	<span>15215</span>
						  </div>
						  <div style="height: 15%; width: 80%; margin: 5px auto;">
					 	  	<button id="btstart" class="btstart" onclick="startQuestion(this)">开始练习</button>
					 	  	<button id="btdelete" class="btdelete" onclick="deleteQuestion(this)" >删除练习</button>
						   </div>
					</div>
				</div>

			</div>
		</div>
	</body>
	<script>
		function change() {
		  var value = document.getElementById('range').value ;
		  document.getElementById('value').innerHTML = value;
		}
		var num=0
		var IdNums=[]
		var value=[]
		var createDates=[]
		var acomplishDate=[]
		var grade=[]
		var IdNum=0;
		function Thistime() { //当前日期
		      var date = new Date();
		      var year = date.getFullYear();
		      var month = date.getMonth() + 1;
		      var day = date.getDate();
		      var mytime=date.toLocaleTimeString();     //获取当前时间
		      // myDate.toLocaleString( );
		      var time = year + "-" + month + "-" + day+' '+mytime;
			  
		      return time;
		    }
		function creatQuestion(){
			num=IdNums.length
			IdNum++
			grade.push(document.getElementById("select").selectedIndex) 
			num++
			console.log(num)
			value.push(document.getElementById('range').value)
			IdNums.push(num)
			document.getElementById("t"+num).childNodes[1].childNodes[1].innerHTML=IdNum
			document.getElementById("t"+num).childNodes[3].childNodes[1].innerHTML=value[num-1]
			createDates.push(Thistime())
			document.getElementById("t"+num).childNodes[5].childNodes[1].innerHTML=createDates[num-1]
			acomplishDate.push("未完成")
			document.getElementById("t"+num).childNodes[7].childNodes[1].innerHTML="未完成"
			document.getElementById("t"+num).style.opacity=1;
			document.getElementById("t"+num).childNodes[9].childNodes[1].value=num
			document.getElementById("t"+num).childNodes[9].childNodes[3].value=num
		}
		
		function startQuestion(bt){
			location.href="oralcal.html"
		}
        function deleteQuestion(bt){
			IdNums.splice(bt.value-1,1)
			value.splice(bt.value-1,1)
			createDates.splice(bt.value-1,1)
			acomplishDate.splice(bt.value-1,1)
			grade.splice(bt.value-1,1)
        	for(let i=1;i<=IdNums.length;i++){
				document.getElementById("t"+i).childNodes[1].childNodes[1].innerHTML=IdNums[i-1]
				document.getElementById("t"+i).childNodes[3].childNodes[1].innerHTML=value[i-1]
				document.getElementById("t"+i).childNodes[5].childNodes[1].innerHTML=createDates[i-1]
				document.getElementById("t"+i).childNodes[7].childNodes[1].innerHTML=acomplishDate[i-1]
				document.getElementById("t"+i).style.opacity=1;

				
			}
			
			document.getElementById('t'+(IdNums.length+1)).style.opacity=0;
        		}
	</script>
	<!-- 引入 layui.js 的 <script> 标签最好放置在 html 末尾 -->
	<script src="layui/layui.js"></script>
	
	<script>
		function upload() {
			var inputObj = document.createElement('input')
			inputObj.setAttribute('id', 'file');
			inputObj.setAttribute('type', 'file');
			inputObj.setAttribute('name', 'file');
			inputObj.setAttribute("style", 'visibility:hidden');
			document.body.appendChild(inputObj);
			inputObj.value;
			inputObj.click();
			console.log(inputObj);
		}
	
		$("#chooseFile").on('click', function() {
			upload();
			document.querySelector('#file').addEventListener('change', e => {
				for (let entry of e.target.files) {
					document.getElementById("fileNameInput").value = entry.name;
					console.log(entry.name, entry.webkitRelativePath);
				}
			});
		});
		$("#fileImport").on('click', function() {
			//文件上传事件
		});
	</script>
</html>
